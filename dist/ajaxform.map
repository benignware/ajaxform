{"version":3,"sources":["node_modules/unique-selector/src/getID.js","node_modules/unique-selector/src/getClasses.js","node_modules/unique-selector/src/getCombinations.js","node_modules/unique-selector/src/getAttributes.js","node_modules/unique-selector/src/isElement.js","node_modules/unique-selector/src/getNthChild.js","node_modules/unique-selector/src/getTag.js","node_modules/unique-selector/src/isUnique.js","node_modules/unique-selector/src/getParents.js","node_modules/unique-selector/src/index.js","node_modules/qs/lib/utils.js","node_modules/qs/lib/formats.js","node_modules/qs/lib/stringify.js","node_modules/qs/lib/parse.js","node_modules/qs/lib/index.js","node_modules/get-form-data/es/index.js","ajaxform.js"],"names":["getID","el","id","getAttribute","getClasses","getClassSelectors","hasAttribute","Array","prototype","slice","call","classList","e","className","trim","replace","split","filter","Boolean","map","cl","getCombinations","kCombinations","result","items","data","start","end","index","k","push","join","i","n","length","l","getAttributes","attributesToIgnore","attributes","attrs","reduce","sum","next","indexOf","nodeName","value","isElement","isElem","HTMLElement","nodeType","getNthChild","element","counter","sibling","parentNode","childNodes","len","getTag","tagName","toLowerCase","isUnique","selector","elems","ownerDocument","querySelectorAll","getParents","parents","currentElement","unique","getAllSelectors","selectors","funcs","elem","res","testUniqueness","elements","getFirstUnique","find","bind","getUniqueCombination","tag","combinations","firstUnique","combination","getUniqueSelector","selectorTypes","foundSelector","elementSelectors","selectorType","ID","Tag","Classes","Class","Attributes","NthChild","options","allSelectors","it","unshift","getFormData","getFieldData","NODE_LIST_CLASSES","IGNORED_ELEMENT_TYPES","CHECKED_INPUT_TYPES","TRIM_RE","toString","Object","form","arguments","undefined","Error","elementName","elementNames","elementNameLookup","type","disabled","name","_i","_l","fieldName","getFormElementValue","allRadios","concat","selectedIndex","selected","multiple","files","checked","closest","matches","prefix","parentElement","window","createSubmitHandler","formElement","event","target","formData","targetElement","url","request","method","toUpperCase","headers","assign","body","stringify","remoteSelector","fetch","then","response","text","dom","document","createElement","innerHTML","html","remoteElement","querySelector","removeAttribute","setAttribute","preventDefault","ajaxform","responseSelector","handleSubmit","addEventListener","destroy","removeEventListener"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"ajaxform.map","sourcesContent":["/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getID( el )\n{\n  const id = el.getAttribute( 'id' );\n\n  if( id !== null && id !== '')\n  {\n    return `#${id}`;\n  }\n  return null;\n}\n","/**\n * Get class names for an element\n *\n * @pararm { Element } el\n * @return { Array }\n */\nexport function getClasses( el )\n{\n  if( !el.hasAttribute( 'class' ) )\n  {\n    return [];\n  }\n\n  try {\n    return Array.prototype.slice.call( el.classList );\n  } catch (e) {\n    let className = el.getAttribute( 'class' );\n\n    // remove duplicate and leading/trailing whitespaces\n    className = className.trim().replace( /\\s+/g, ' ' );\n\n    // split into separate classnames\n    return className.split( ' ' );\n  }\n}\n\n/**\n * Returns the Class selectors of the element\n * @param  { Object } element\n * @return { Array }\n */\nexport function getClassSelectors( el )\n{\n  const classList = getClasses( el ).filter( Boolean );\n  return classList.map( cl => `.${cl}` );\n}\n","/**\n * Recursively combinate items.\n * @param  { Array } result\n * @param  { Array } items\n * @param  { Array } data\n * @param  { Number } start\n * @param  { Number } end\n * @param  { Number } index\n * @param  { Number } k\n */\nfunction kCombinations( result, items, data, start, end, index, k )\n{\n    if( index === k )\n    {\n        result.push( data.slice( 0, index ).join( '' ) );\n        return;\n    }\n\n    for( let i = start; i <= end && end - i + 1 >= k - index; ++i )\n    {\n        data[index] = items[i];\n        kCombinations( result, items, data, i + 1, end, index + 1, k );\n    }\n}\n\n/**\n * Returns all the possible selector combinations\n * @param  { Array } items\n * @param  { Number } k\n * @return { Array }\n */\nexport function getCombinations( items, k )\n{\n    const result = [],\n          n = items.length,\n          data = [];\n\n    for( var l = 1; l <= k; ++l )\n    {\n        kCombinations( result, items, data, 0, n - 1, 0, l );\n    }\n\n    return result;\n}\n","/**\n * Returns the Attribute selectors of the element\n * @param  { DOM Element } element\n * @param  { Array } array of attributes to ignore\n * @return { Array }\n */\nexport function getAttributes( el, attributesToIgnore = ['id', 'class', 'length'] )\n{\n  const { attributes } = el;\n  const attrs = [ ...attributes ];\n\n  return attrs.reduce( ( sum, next ) =>\n  {\n    if ( ! ( attributesToIgnore.indexOf( next.nodeName ) > -1 ) )\n    {\n      sum.push( `[${next.nodeName}=\"${next.value}\"]` );\n    }\n    return sum;\n  }, [] );\n}\n","/**\n * Determines if the passed el is a DOM element\n */\nexport function isElement( el )\n{\n  let isElem;\n\n  if ( typeof HTMLElement === 'object' )\n  {\n    isElem = el instanceof HTMLElement;\n  }\n  else\n  {\n    isElem = !!el && ( typeof el === 'object' ) && el.nodeType === 1 && typeof el.nodeName === 'string';\n  }\n  return isElem;\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns the selectors based on the position of the element relative to its siblings\n * @param  { Object } element\n * @return { Array }\n */\nexport function getNthChild( element )\n{\n  let counter = 0;\n  let k;\n  let sibling;\n  const { parentNode } = element;\n\n  if( Boolean( parentNode ) )\n  {\n    const { childNodes } = parentNode;\n    const len = childNodes.length;\n    for ( k = 0; k < len; k++ )\n    {\n      sibling = childNodes[ k ];\n      if( isElement( sibling ) )\n      {\n        counter++;\n        if( sibling === element )\n        {\n          return `:nth-child(${counter})`;\n        }\n      }\n    }\n  }\n  return null;\n}\n","/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getTag( el )\n{\n  return el.tagName.toLowerCase().replace(/:/g, '\\\\:');\n}\n","/**\n * Checks if the selector is unique\n * @param  { Object } element\n * @param  { String } selector\n * @return { Array }\n */\nexport function isUnique( el, selector )\n{\n  if( !Boolean( selector ) ) return false;\n  const elems = el.ownerDocument.querySelectorAll( selector );\n  return elems.length === 1 && elems[ 0 ] === el;\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns all the element and all of its parents\n * @param { DOM Element }\n * @return { Array of DOM elements }\n */\nexport function getParents( el )\n{\n  const parents = [];\n  let currentElement = el;\n  while( isElement( currentElement ) )\n  {\n    parents.push( currentElement );\n    currentElement = currentElement.parentNode;\n  }\n\n  return parents;\n}\n","/**\n * Expose `unique`\n */\n\nimport { getID } from './getID';\nimport { getClassSelectors } from './getClasses';\nimport { getCombinations } from './getCombinations';\nimport { getAttributes } from './getAttributes';\nimport { getNthChild } from './getNthChild';\nimport { getTag } from './getTag';\nimport { isUnique } from './isUnique';\nimport { getParents } from './getParents';\n\n\n/**\n * Returns all the selectors of the elmenet\n * @param  { Object } element\n * @return { Object }\n */\nfunction getAllSelectors( el, selectors, attributesToIgnore )\n{\n  const funcs =\n    {\n      'Tag'        : getTag,\n      'NthChild'   : getNthChild,\n      'Attributes' : elem => getAttributes( elem, attributesToIgnore ),\n      'Class'      : getClassSelectors,\n      'ID'         : getID,\n    };\n\n  return selectors.reduce( ( res, next ) =>\n  {\n    res[ next ] = funcs[ next ]( el );\n    return res;\n  }, {} );\n}\n\n/**\n * Tests uniqueNess of the element inside its parent\n * @param  { Object } element\n * @param { String } Selectors\n * @return { Boolean }\n */\nfunction testUniqueness( element, selector )\n{\n  const { parentNode } = element;\n  const elements = parentNode.querySelectorAll( selector );\n  return elements.length === 1 && elements[ 0 ] === element;\n}\n\n/**\n * Tests all selectors for uniqueness and returns the first unique selector.\n * @param  { Object } element\n * @param  { Array } selectors\n * @return { String }\n */\nfunction getFirstUnique( element, selectors )\n{\n    return selectors.find( testUniqueness.bind( null, element ) );\n}\n\n/**\n * Checks all the possible selectors of an element to find one unique and return it\n * @param  { Object } element\n * @param  { Array } items\n * @param  { String } tag\n * @return { String }\n */\nfunction getUniqueCombination( element, items, tag )\n{\n  let combinations = getCombinations( items, 3 ),\n      firstUnique = getFirstUnique( element, combinations );\n\n  if( Boolean( firstUnique ) )\n  {\n      return firstUnique;\n  }\n\n  if( Boolean( tag ) )\n  {\n      combinations = combinations.map( combination => tag + combination );\n      firstUnique = getFirstUnique( element, combinations );\n\n      if( Boolean( firstUnique ) )\n      {\n          return firstUnique;\n      }\n  }\n\n  return null;\n}\n\n/**\n * Returns a uniqueSelector based on the passed options\n * @param  { DOM } element\n * @param  { Array } options\n * @return { String }\n */\nfunction getUniqueSelector( element, selectorTypes, attributesToIgnore )\n{\n  let foundSelector;\n\n  const elementSelectors = getAllSelectors( element, selectorTypes, attributesToIgnore );\n\n  for( let selectorType of selectorTypes )\n  {\n      const { ID, Tag, Class : Classes, Attributes, NthChild } = elementSelectors;\n      switch ( selectorType )\n      {\n        case 'ID' :\n        if ( Boolean( ID ) && testUniqueness( element, ID ) )\n        {\n            return ID;\n        }\n        break;\n\n        case 'Tag':\n          if ( Boolean( Tag ) && testUniqueness( element, Tag ) )\n          {\n              return Tag;\n          }\n          break;\n\n        case 'Class':\n          if ( Boolean( Classes ) && Classes.length )\n          {\n            foundSelector = getUniqueCombination( element, Classes, Tag );\n            if (foundSelector) {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'Attributes':\n          if ( Boolean( Attributes ) && Attributes.length )\n          {\n            foundSelector = getUniqueCombination( element, Attributes, Tag );\n            if ( foundSelector )\n            {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'NthChild':\n          if ( Boolean( NthChild ) )\n          {\n            return NthChild\n          }\n      }\n  }\n  return '*';\n}\n\n/**\n * Generate unique CSS selector for given DOM element\n *\n * @param {Element} el\n * @return {String}\n * @api private\n */\n\nexport default function unique( el, options={} )\n{\n  const { selectorTypes=[ 'ID', 'Class', 'Tag', 'NthChild' ], attributesToIgnore= ['id', 'class', 'length'] } = options;\n  const allSelectors = [];\n  const parents = getParents( el );\n\n  for( let elem of parents )\n  {\n    const selector = getUniqueSelector( elem, selectorTypes, attributesToIgnore );\n    if( Boolean( selector ) )\n    {\n      allSelectors.push( selector );\n    }\n  }\n\n  const selectors = [];\n  for( let it of allSelectors )\n  {\n    selectors.unshift( it );\n    const selector = selectors.join( ' > ' );\n    if( isUnique( el, selector ) )\n    {\n      return selector;\n    }\n  }\n\n  return null;\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nexports.arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nexports.compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nexports.isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","var NODE_LIST_CLASSES = {\n  '[object HTMLCollection]': true,\n  '[object NodeList]': true,\n  '[object RadioNodeList]': true\n\n  // .type values for elements which can appear in .elements and should be ignored\n};var IGNORED_ELEMENT_TYPES = {\n  'button': true,\n  'fieldset': true,\n  'reset': true,\n  'submit': true\n};\n\nvar CHECKED_INPUT_TYPES = {\n  'checkbox': true,\n  'radio': true\n};\n\nvar TRIM_RE = /^\\s+|\\s+$/g;\n\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n/**\n * @param {HTMLFormElement} form\n * @param {Object} options\n * @return {Object.<string,(string|Array.<string>)>} an object containing\n *   submittable value(s) held in the form's .elements collection, with\n *   properties named as per element names or ids.\n */\n\nexport default function getFormData(form) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { trim: false };\n\n  if (!form) {\n    throw new Error('A form is required by getFormData, was given form=' + form);\n  }\n\n  var data = {};\n  var elementName = void 0;\n  var elementNames = [];\n  var elementNameLookup = {};\n\n  // Get unique submittable element names for the form\n  for (var i = 0, l = form.elements.length; i < l; i++) {\n    var element = form.elements[i];\n    if (IGNORED_ELEMENT_TYPES[element.type] || element.disabled) {\n      continue;\n    }\n    elementName = element.name || element.id;\n    if (elementName && !elementNameLookup[elementName]) {\n      elementNames.push(elementName);\n      elementNameLookup[elementName] = true;\n    }\n  }\n\n  // Extract element data name-by-name for consistent handling of special cases\n  // around elements which contain multiple inputs.\n  for (var _i = 0, _l = elementNames.length; _i < _l; _i++) {\n    elementName = elementNames[_i];\n    var value = getFieldData(form, elementName, options);\n    if (value != null) {\n      data[elementName] = value;\n    }\n  }\n\n  return data;\n}\n\n/**\n * @param {HTMLFormElement} form\n * @param {string} fieldName\n * @param {Object} options\n * @return {(string|Array.<string>)} submittable value(s) in the form for a\n *   named element from its .elements collection, or null if there was no\n *   element with that name or the element had no submittable value(s).\n */\nexport function getFieldData(form, fieldName) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { trim: false };\n\n  if (!form) {\n    throw new Error('A form is required by getFieldData, was given form=' + form);\n  }\n  if (!fieldName && toString.call(fieldName) !== '[object String]') {\n    throw new Error('A field name is required by getFieldData, was given fieldName=' + fieldName);\n  }\n\n  var element = form.elements[fieldName];\n  if (!element || element.disabled) {\n    return null;\n  }\n\n  if (!NODE_LIST_CLASSES[toString.call(element)]) {\n    return getFormElementValue(element, options.trim);\n  }\n\n  // Deal with multiple form controls which have the same name\n  var data = [];\n  var allRadios = true;\n  for (var i = 0, l = element.length; i < l; i++) {\n    if (element[i].disabled) {\n      continue;\n    }\n    if (allRadios && element[i].type !== 'radio') {\n      allRadios = false;\n    }\n    var value = getFormElementValue(element[i], options.trim);\n    if (value != null) {\n      data = data.concat(value);\n    }\n  }\n\n  // Special case for an element with multiple same-named inputs which were all\n  // radio buttons: if there was a selected value, only return the value.\n  if (allRadios && data.length === 1) {\n    return data[0];\n  }\n\n  return data.length > 0 ? data : null;\n}\n\n/**\n * @param {HTMLElement} element a form element.\n * @param {booleam} trim should values for text entry inputs be trimmed?\n * @return {(string|Array.<string>|File|Array.<File>)} the element's submittable\n *   value(s), or null if it had none.\n */\nfunction getFormElementValue(element, trim) {\n  var value = null;\n  var type = element.type;\n\n\n  if (type === 'select-one') {\n    if (element.options.length) {\n      value = element.options[element.selectedIndex].value;\n    }\n    return value;\n  }\n\n  if (type === 'select-multiple') {\n    value = [];\n    for (var i = 0, l = element.options.length; i < l; i++) {\n      if (element.options[i].selected) {\n        value.push(element.options[i].value);\n      }\n    }\n    if (value.length === 0) {\n      value = null;\n    }\n    return value;\n  }\n\n  // If a file input doesn't have a files attribute, fall through to using its\n  // value attribute.\n  if (type === 'file' && 'files' in element) {\n    if (element.multiple) {\n      value = slice.call(element.files);\n      if (value.length === 0) {\n        value = null;\n      }\n    } else {\n      // Should be null if not present, according to the spec\n      value = element.files[0];\n    }\n    return value;\n  }\n\n  if (!CHECKED_INPUT_TYPES[type]) {\n    value = trim ? element.value.replace(TRIM_RE, '') : element.value;\n  } else if (element.checked) {\n    value = element.value;\n  }\n\n  return value;\n}\n\n// For UMD build access to getFieldData\ngetFormData.getFieldData = getFieldData;","import uniqueSelector from 'unique-selector';\nimport qs from 'qs';\nimport getFormData from 'get-form-data';\n\n// Find the closest matching ancestor\nconst closest = (el, selector) => {\n  // Detect vendor name\n  const matches = ['webkit', 'ms'].map(prefix => prefix + 'Matches').find(name => el[name]) || 'matches';\n\n  // Traverse dom to find the closest element\n  while (el.parentElement) {\n    if (typeof selector === 'string' && el[matches](selector) || selector instanceof window.HTMLElement && el === selector ) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n};\n\nconst createSubmitHandler = (selector, options) => event => {\n  const formElement = event.target;\n  const formData = getFormData(formElement);\n  const targetElement = closest(event.target, selector);\n  const url = formElement.getAttribute('action') || '.';\n\n  let { request } = options;\n\n  request.method = (formElement.getAttribute('method') || request.method).toUpperCase();\n  request.headers = Object.assign({}, request.method === 'POST' && {\n    'X-Ajaxform': '*',\n    'Accept': 'application/json, application/xml, text/plain, text/html, *.*',\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n  }, request.headers);\n\n  if (request.method === 'POST') {\n    request.body = qs.stringify(formData);\n  }\n  // TODO: For get requests, merge url with query params\n  if (targetElement) {\n    const remoteSelector = options.remoteSelector || uniqueSelector(targetElement);\n\n    fetch(url, request).then(response => {\n      response.text().then(html => {\n        // Parse html\n        const dom = document.createElement( 'div' );\n        dom.innerHTML = html;\n\n        // Find element\n        const remoteElement = dom.querySelector(remoteSelector);\n\n        if (remoteElement) {\n          // Remove attributes\n          for (let { name } of dom.attributes) {\n            targetElement.removeAttribute(name);\n          }\n          // Update attributes\n          for (let { name, value } of remoteElement.attributes) {\n            targetElement.setAttribute(name, value);\n          }\n          // Update content\n          targetElement.innerHTML = remoteElement.innerHTML;\n        }\n      });\n    });\n    event.preventDefault();\n  }\n};\n\nfunction ajaxform(selector = 'form', options = {}) {\n  options = Object.assign({\n    responseSelector: '',\n    request: Object.assign({\n      // Options passed to fetch\n    }, options.request)\n  }, options);\n  const handleSubmit = createSubmitHandler(selector, options);\n  document.addEventListener('submit', handleSubmit);\n\n  return {\n    destroy() {\n      window.removeEventListener('submit', handleSubmit);\n    }\n  };\n}\n\n// Pollute the global namespace\nif (typeof window !== 'undefined') {\n  window.ajaxform = ajaxform;\n}\n\nexport default ajaxform;\n"]}