{"version":3,"sources":["node_modules/unique-selector/src/getID.js","node_modules/unique-selector/src/getClasses.js","node_modules/unique-selector/src/getCombinations.js","node_modules/unique-selector/src/getAttributes.js","node_modules/unique-selector/src/isElement.js","node_modules/unique-selector/src/getNthChild.js","node_modules/unique-selector/src/getTag.js","node_modules/unique-selector/src/isUnique.js","node_modules/unique-selector/src/getParents.js","node_modules/unique-selector/src/index.js","node_modules/form-data/lib/browser.js","ajaxform.js"],"names":["getID","el","id","getAttribute","getClasses","getClassSelectors","hasAttribute","Array","prototype","slice","call","classList","e","className","trim","replace","split","filter","Boolean","map","cl","getCombinations","kCombinations","result","items","data","start","end","index","k","push","join","i","n","length","l","getAttributes","attributesToIgnore","attributes","attrs","reduce","sum","next","indexOf","nodeName","value","isElement","isElem","HTMLElement","nodeType","getNthChild","element","counter","sibling","parentNode","childNodes","len","getTag","tagName","toLowerCase","isUnique","selector","elems","ownerDocument","querySelectorAll","getParents","parents","currentElement","unique","getAllSelectors","selectors","funcs","elem","res","testUniqueness","elements","getFirstUnique","find","bind","getUniqueCombination","tag","combinations","firstUnique","combination","getUniqueSelector","selectorTypes","foundSelector","elementSelectors","selectorType","ID","Tag","Classes","Class","Attributes","NthChild","options","allSelectors","it","unshift","fs","require","closest","matches","prefix","name","parentElement","window","createSubmitHandler","formElement","event","target","formData","targetElement","url","request","method","headers","Object","assign","body","remoteSelector","fetch","then","response","text","dom","document","createElement","innerHTML","html","remoteElement","querySelector","preventDefault","ajaxform","responseSelector","handleSubmit","addEventListener","destroy","removeEventListener"],"mappings":"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","file":"ajaxform.map","sourcesContent":["/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getID( el )\n{\n  const id = el.getAttribute( 'id' );\n\n  if( id !== null && id !== '')\n  {\n    return `#${id}`;\n  }\n  return null;\n}\n","/**\n * Get class names for an element\n *\n * @pararm { Element } el\n * @return { Array }\n */\nexport function getClasses( el )\n{\n  if( !el.hasAttribute( 'class' ) )\n  {\n    return [];\n  }\n\n  try {\n    return Array.prototype.slice.call( el.classList );\n  } catch (e) {\n    let className = el.getAttribute( 'class' );\n\n    // remove duplicate and leading/trailing whitespaces\n    className = className.trim().replace( /\\s+/g, ' ' );\n\n    // split into separate classnames\n    return className.split( ' ' );\n  }\n}\n\n/**\n * Returns the Class selectors of the element\n * @param  { Object } element\n * @return { Array }\n */\nexport function getClassSelectors( el )\n{\n  const classList = getClasses( el ).filter( Boolean );\n  return classList.map( cl => `.${cl}` );\n}\n","/**\n * Recursively combinate items.\n * @param  { Array } result\n * @param  { Array } items\n * @param  { Array } data\n * @param  { Number } start\n * @param  { Number } end\n * @param  { Number } index\n * @param  { Number } k\n */\nfunction kCombinations( result, items, data, start, end, index, k )\n{\n    if( index === k )\n    {\n        result.push( data.slice( 0, index ).join( '' ) );\n        return;\n    }\n\n    for( let i = start; i <= end && end - i + 1 >= k - index; ++i )\n    {\n        data[index] = items[i];\n        kCombinations( result, items, data, i + 1, end, index + 1, k );\n    }\n}\n\n/**\n * Returns all the possible selector combinations\n * @param  { Array } items\n * @param  { Number } k\n * @return { Array }\n */\nexport function getCombinations( items, k )\n{\n    const result = [],\n          n = items.length,\n          data = [];\n\n    for( var l = 1; l <= k; ++l )\n    {\n        kCombinations( result, items, data, 0, n - 1, 0, l );\n    }\n\n    return result;\n}\n","/**\n * Returns the Attribute selectors of the element\n * @param  { DOM Element } element\n * @param  { Array } array of attributes to ignore\n * @return { Array }\n */\nexport function getAttributes( el, attributesToIgnore = ['id', 'class', 'length'] )\n{\n  const { attributes } = el;\n  const attrs = [ ...attributes ];\n\n  return attrs.reduce( ( sum, next ) =>\n  {\n    if ( ! ( attributesToIgnore.indexOf( next.nodeName ) > -1 ) )\n    {\n      sum.push( `[${next.nodeName}=\"${next.value}\"]` );\n    }\n    return sum;\n  }, [] );\n}\n","/**\n * Determines if the passed el is a DOM element\n */\nexport function isElement( el )\n{\n  let isElem;\n\n  if ( typeof HTMLElement === 'object' )\n  {\n    isElem = el instanceof HTMLElement;\n  }\n  else\n  {\n    isElem = !!el && ( typeof el === 'object' ) && el.nodeType === 1 && typeof el.nodeName === 'string';\n  }\n  return isElem;\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns the selectors based on the position of the element relative to its siblings\n * @param  { Object } element\n * @return { Array }\n */\nexport function getNthChild( element )\n{\n  let counter = 0;\n  let k;\n  let sibling;\n  const { parentNode } = element;\n\n  if( Boolean( parentNode ) )\n  {\n    const { childNodes } = parentNode;\n    const len = childNodes.length;\n    for ( k = 0; k < len; k++ )\n    {\n      sibling = childNodes[ k ];\n      if( isElement( sibling ) )\n      {\n        counter++;\n        if( sibling === element )\n        {\n          return `:nth-child(${counter})`;\n        }\n      }\n    }\n  }\n  return null;\n}\n","/**\n * Returns the Tag of the element\n * @param  { Object } element\n * @return { String }\n */\nexport function getTag( el )\n{\n  return el.tagName.toLowerCase().replace(/:/g, '\\\\:');\n}\n","/**\n * Checks if the selector is unique\n * @param  { Object } element\n * @param  { String } selector\n * @return { Array }\n */\nexport function isUnique( el, selector )\n{\n  if( !Boolean( selector ) ) return false;\n  const elems = el.ownerDocument.querySelectorAll( selector );\n  return elems.length === 1 && elems[ 0 ] === el;\n}\n","import { isElement } from './isElement';\n\n/**\n * Returns all the element and all of its parents\n * @param { DOM Element }\n * @return { Array of DOM elements }\n */\nexport function getParents( el )\n{\n  const parents = [];\n  let currentElement = el;\n  while( isElement( currentElement ) )\n  {\n    parents.push( currentElement );\n    currentElement = currentElement.parentNode;\n  }\n\n  return parents;\n}\n","/**\n * Expose `unique`\n */\n\nimport { getID } from './getID';\nimport { getClassSelectors } from './getClasses';\nimport { getCombinations } from './getCombinations';\nimport { getAttributes } from './getAttributes';\nimport { getNthChild } from './getNthChild';\nimport { getTag } from './getTag';\nimport { isUnique } from './isUnique';\nimport { getParents } from './getParents';\n\n\n/**\n * Returns all the selectors of the elmenet\n * @param  { Object } element\n * @return { Object }\n */\nfunction getAllSelectors( el, selectors, attributesToIgnore )\n{\n  const funcs =\n    {\n      'Tag'        : getTag,\n      'NthChild'   : getNthChild,\n      'Attributes' : elem => getAttributes( elem, attributesToIgnore ),\n      'Class'      : getClassSelectors,\n      'ID'         : getID,\n    };\n\n  return selectors.reduce( ( res, next ) =>\n  {\n    res[ next ] = funcs[ next ]( el );\n    return res;\n  }, {} );\n}\n\n/**\n * Tests uniqueNess of the element inside its parent\n * @param  { Object } element\n * @param { String } Selectors\n * @return { Boolean }\n */\nfunction testUniqueness( element, selector )\n{\n  const { parentNode } = element;\n  const elements = parentNode.querySelectorAll( selector );\n  return elements.length === 1 && elements[ 0 ] === element;\n}\n\n/**\n * Tests all selectors for uniqueness and returns the first unique selector.\n * @param  { Object } element\n * @param  { Array } selectors\n * @return { String }\n */\nfunction getFirstUnique( element, selectors )\n{\n    return selectors.find( testUniqueness.bind( null, element ) );\n}\n\n/**\n * Checks all the possible selectors of an element to find one unique and return it\n * @param  { Object } element\n * @param  { Array } items\n * @param  { String } tag\n * @return { String }\n */\nfunction getUniqueCombination( element, items, tag )\n{\n  let combinations = getCombinations( items, 3 ),\n      firstUnique = getFirstUnique( element, combinations );\n\n  if( Boolean( firstUnique ) )\n  {\n      return firstUnique;\n  }\n\n  if( Boolean( tag ) )\n  {\n      combinations = combinations.map( combination => tag + combination );\n      firstUnique = getFirstUnique( element, combinations );\n\n      if( Boolean( firstUnique ) )\n      {\n          return firstUnique;\n      }\n  }\n\n  return null;\n}\n\n/**\n * Returns a uniqueSelector based on the passed options\n * @param  { DOM } element\n * @param  { Array } options\n * @return { String }\n */\nfunction getUniqueSelector( element, selectorTypes, attributesToIgnore )\n{\n  let foundSelector;\n\n  const elementSelectors = getAllSelectors( element, selectorTypes, attributesToIgnore );\n\n  for( let selectorType of selectorTypes )\n  {\n      const { ID, Tag, Class : Classes, Attributes, NthChild } = elementSelectors;\n      switch ( selectorType )\n      {\n        case 'ID' :\n        if ( Boolean( ID ) && testUniqueness( element, ID ) )\n        {\n            return ID;\n        }\n        break;\n\n        case 'Tag':\n          if ( Boolean( Tag ) && testUniqueness( element, Tag ) )\n          {\n              return Tag;\n          }\n          break;\n\n        case 'Class':\n          if ( Boolean( Classes ) && Classes.length )\n          {\n            foundSelector = getUniqueCombination( element, Classes, Tag );\n            if (foundSelector) {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'Attributes':\n          if ( Boolean( Attributes ) && Attributes.length )\n          {\n            foundSelector = getUniqueCombination( element, Attributes, Tag );\n            if ( foundSelector )\n            {\n              return foundSelector;\n            }\n          }\n          break;\n\n        case 'NthChild':\n          if ( Boolean( NthChild ) )\n          {\n            return NthChild\n          }\n      }\n  }\n  return '*';\n}\n\n/**\n * Generate unique CSS selector for given DOM element\n *\n * @param {Element} el\n * @return {String}\n * @api private\n */\n\nexport default function unique( el, options={} )\n{\n  const { selectorTypes=[ 'ID', 'Class', 'Tag', 'NthChild' ], attributesToIgnore= ['id', 'class', 'length'] } = options;\n  const allSelectors = [];\n  const parents = getParents( el );\n\n  for( let elem of parents )\n  {\n    const selector = getUniqueSelector( elem, selectorTypes, attributesToIgnore );\n    if( Boolean( selector ) )\n    {\n      allSelectors.push( selector );\n    }\n  }\n\n  const selectors = [];\n  for( let it of allSelectors )\n  {\n    selectors.unshift( it );\n    const selector = selectors.join( ' > ' );\n    if( isUnique( el, selector ) )\n    {\n      return selector;\n    }\n  }\n\n  return null;\n}\n","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","import uniqueSelector from 'unique-selector';\nimport FormData from 'form-data';\n\nconst fs = require('fs');\n\n\n// const uniqueSelector = require('unique-selector');\n\n// Find index of element in siblings\n// const findElementIndex = element => Array.prototype.slice\n//   .call(element.parentNode.childNodes)\n//   .filter(element => element.nodeType === 1)\n//   .indexOf(element);\n\n// Finds a unique selector for an element\n// const uniqueSelector = (element, options = {}) => {\n//   const segments = [];\n//   let id;\n//\n//   // Traverse dom and collect parent selectors\n//   while (!element.tagName.match(/html|body/ui)) {\n//     id = element.getAttribute && element.getAttribute('id');\n//     segments.unshift(\n//       id\n//         ? '#' + id\n//         : '*:nth-child(' + ( findElementIndex(element) + 1 ) + ')'\n//     );\n//     element = element.parentNode;\n//   }\n//   return segments.join(' > ');\n// };\n\n// Find the closest matching ancestor\nconst closest = (el, selector) => {\n  // Detect vendor name\n  const matches = ['webkit', 'ms'].map(prefix => prefix + 'Matches').find(name => el[name]) || 'matches';\n\n  // Traverse dom to find the closest element\n  while (el.parentElement) {\n    if (typeof selector === 'string' && el[matches](selector) || selector instanceof window.HTMLElement && el === selector ) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n};\n\nconst createSubmitHandler = (selector, options) => event => {\n  const formElement = event.target;\n  const formData = new FormData(formElement);\n  const targetElement = closest(event.target, selector);\n  const url = formElement.getAttribute('action') || '.';\n  let { request: { method = 'POST', headers, ...request } } = options;\n\n  method = formElement.getAttribute('method') || method;\n  headers = Object.assign({}, method === 'POST' && {\n    'Accept': 'application/json, application/xml, text/plain, text/html, *.*',\n    'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n  }, headers);\n\n  request = {\n    ...request, method, headers\n  };\n\n  if (method === 'POST') {\n    request.body = formData;\n  }\n\n  if (targetElement) {\n    const remoteSelector = options.remoteSelector || uniqueSelector(targetElement);\n\n    fetch(url, request).then(response => {\n      response.text().then(html => {\n        // Parse html\n        const dom = document.createElement( 'div' );\n        dom.innerHTML = html;\n\n        // Find element\n        const remoteElement = dom.querySelector(remoteSelector);\n\n        if (remoteElement) {\n          // Update element\n          targetElement.innerHTML = remoteElement.innerHTML;\n        }\n      });\n    });\n  }\n\n  event.preventDefault();\n};\n\nfunction ajaxform(selector, options) {\n  options = Object.assign({\n    responseSelector: '',\n    request: {\n      // Options passed to fetch\n    }\n  }, options);\n  const handleSubmit = createSubmitHandler(selector, options);\n  document.addEventListener('submit', handleSubmit);\n\n  return {\n    destroy() {\n      window.removeEventListener('submit', handleSubmit);\n    }\n  };\n}\n\n// Global pollution\nwindow.ajaxform = ajaxform;\n\nexport default ajaxform;\n"]}